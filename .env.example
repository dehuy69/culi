# ============================================================================
# Culi Backend - Environment Variables Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# PostgreSQL connection string
# Default: postgresql://postgres:postgres@localhost:5432/culi_db
# For local development, update if you change PostgreSQL credentials
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/culi_db

# ----------------------------------------------------------------------------
# Authentication & Security
# ----------------------------------------------------------------------------
# JWT Secret Key - REQUIRED
# Minimum 32 characters
# Generate with: openssl rand -hex 32
# IMPORTANT: Change this in production!
SECRET_KEY=your-secret-key-here-change-in-production-minimum-32-characters

# JWT Algorithm (usually don't need to change)
ALGORITHM=HS256

# JWT Token expiration time in minutes (default: 30)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Encryption Key - REQUIRED
# Used to encrypt sensitive data (OAuth secrets, MCP auth configs) in database
# Generate with: python scripts/generate_encryption_key.py
# IMPORTANT: Must be a valid Fernet key (44 base64 characters)
ENCRYPTION_KEY=your-32-byte-encryption-key-here-change-in-production

# ----------------------------------------------------------------------------
# OpenRouter Configuration (LLM Provider)
# ----------------------------------------------------------------------------
# OpenRouter API Key - REQUIRED
# Get your API key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=

# OpenRouter Base URL (usually don't need to change)
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# ----------------------------------------------------------------------------
# LLM Model Selection
# ----------------------------------------------------------------------------
# Default model for general use
LLM_MODEL=openai/gpt-4-turbo-preview

# LLM Temperature (0.0 - 2.0, default: 0.7)
LLM_TEMPERATURE=0.7

# Intent Classification Model (cheap and fast)
LLM_MODEL_INTENT=meta-llama/llama-3.1-8b-instruct

# Plan Generation Model (default)
LLM_MODEL_PLAN=meta-llama/llama-3.1-8b-instruct

# Plan Generation Model (for complex cases - free)
LLM_MODEL_PLAN_COMPLEX=nousresearch/hermes-3-llama-3.1-405b:free

# Answer Generation Model (quality)
LLM_MODEL_ANSWER=openai/gpt-4o-mini-2024-07-18

# Answer Generation Model (simple cases - cheap)
LLM_MODEL_ANSWER_SIMPLE=meta-llama/llama-3.1-8b-instruct

# ----------------------------------------------------------------------------
# LLM Token Limits
# ----------------------------------------------------------------------------
# Maximum tokens for general LLM calls (default: 2000)
LLM_MAX_TOKENS=2000

# Maximum tokens for intent classification (default: 200)
LLM_MAX_TOKENS_INTENT=200

# Maximum tokens for plan generation (default: 1000)
LLM_MAX_TOKENS_PLAN=1000

# Maximum tokens for answer generation (default: 2000)
LLM_MAX_TOKENS_ANSWER=2000

# ----------------------------------------------------------------------------
# Chat Configuration
# ----------------------------------------------------------------------------
# Number of messages to include in chat context (default: 10)
CHAT_HISTORY_LENGTH=10

# ----------------------------------------------------------------------------
# Google Custom Search (Optional - for web search features)
# ----------------------------------------------------------------------------
# Google Custom Search API Key
# Get from: https://console.cloud.google.com/apis/credentials
# Required only if you want web search functionality (tax_qa intent)
GOOGLE_SEARCH_API_KEY=

# Google Custom Search Engine ID
# Create at: https://programmablesearchengine.google.com/
# Required only if you want web search functionality
GOOGLE_SEARCH_CX=

# ----------------------------------------------------------------------------
# KiotViet OAuth2 Configuration
# ----------------------------------------------------------------------------
# KiotViet OAuth2 Token URL (usually don't need to change)
KIOTVIET_TOKEN_URL=https://id.kiotviet.vn/connect/token

# ----------------------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------
# Debug mode (default: True for development)
DEBUG=True

# Application name
APP_NAME=culi-backend

# Application version
APP_VERSION=0.1.0

# ============================================================================
# Quick Setup Guide
# ============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Generate SECRET_KEY: openssl rand -hex 32
# 3. Generate ENCRYPTION_KEY: python scripts/generate_encryption_key.py
# 4. Get OPENROUTER_API_KEY from https://openrouter.ai/keys
# 5. (Optional) Get GOOGLE_SEARCH_API_KEY and GOOGLE_SEARCH_CX for web search
# 6. Update .env file with your actual values
# ============================================================================
